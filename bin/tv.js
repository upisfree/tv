!function e(o,n,t){function i(u,l){if(!n[u]){if(!o[u]){var c="function"==typeof require&&require;if(!l&&c)return c(u,!0);if(r)return r(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var d=n[u]={exports:{}};o[u][0].call(d.exports,function(e){var n=o[u][1][e];return i(n?n:e)},d,d.exports,e,o,n,t)}return n[u].exports}for(var r="function"==typeof require&&require,u=0;u<t.length;u++)i(t[u]);return i}({1:[function(e,o,n){var t;t={playlists:["PLy_pe5XDDZ1IyDxrlXRuz-Qz4gBft5cmt","PLy_pe5XDDZ1LrigQrKoQMKAKqtcxlnjEr"],key:"AIzaSyA8Wb8ZkXnc9XfcRDLON3gF0Vn7NkiQEWw",fastPlay:250,volumeStep:10,doubleClickInterval:175},o.exports=t},{}],2:[function(e,o,n){var t;t=e("./ui/ui.coffee"),t(),window.onYouTubeIframeAPIReady=function(){return e("./player/player.coffee")(function(){return e("./player/loadList.coffee")()})}},{"./player/loadList.coffee":8,"./player/player.coffee":9,"./ui/ui.coffee":10}],3:[function(e,o,n){var t,i,r,u,l;u=e("./mouse.coffee"),r=e("./keyboard.coffee"),l=e("./touch.coffee"),t=e("./gamepad.coffee"),i=function(){return u(),r(),l(),t()},o.exports=i},{"./gamepad.coffee":4,"./keyboard.coffee":5,"./mouse.coffee":6,"./touch.coffee":7}],4:[function(e,o,n){var t,i,r;t=e("../../config.coffee"),r=e("../player.coffee")(),i=function(){},o.exports=i},{"../../config.coffee":1,"../player.coffee":9}],5:[function(e,o,n){var t,i,r,u;t=e("../../config.coffee"),u=e("../player.coffee")(),i=e("../../utils/fullscreen.coffee"),r=function(){return window.onkeydown=function(e){var o;switch(o=u.getVolume(),e.keyCode){case 38:return u.setVolume(o+t.volumeStep);case 40:return u.setVolume(o-t.volumeStep)}},window.onkeyup=function(e){switch(e.keyCode){case 32:case 13:case 39:return u.playNext();case 70:return i["switch"]();case 27:if(i.isEnabled())return i.exit()}}},o.exports=r},{"../../config.coffee":1,"../../utils/fullscreen.coffee":12,"../player.coffee":9}],6:[function(e,o,n){var t,i,r,u;t=e("../../config.coffee"),u=e("../player.coffee")(),i=e("../../utils/fullscreen.coffee"),r=function(){return window._clicks=0,window.onclick=function(e){if(window._clicks++,1===window._clicks)return setTimeout(function(){return 1===window._clicks?u.playNext():i["switch"](),window._clicks=0},t.doubleClickInterval)},window.onmousewheel=function(e){var o;return o=u.getVolume(),e.wheelDelta>0?u.setVolume(o+t.volumeStep):u.setVolume(o-t.volumeStep)}},o.exports=r},{"../../config.coffee":1,"../../utils/fullscreen.coffee":12,"../player.coffee":9}],7:[function(e,o,n){var t,i;t=e("../player.coffee")(),i=function(){return window.addEventListener("touchmove",function(e){return e.preventDefault(),t.setVolume(100-Math.round(100*e.touches[0].clientY/window.innerHeight))})},o.exports=i},{"../player.coffee":9}],8:[function(e,o,n){var t,i,r,u,l,c;e("../utils/array.coffee"),i=e("../config.coffee"),r=e("./controls/controls.coffee"),l=e("./player.coffee")(),c=e("../utils/storage.coffee"),window.videos=[],window.viewed=0,window.viewedVideos=null!=c.get("viewedVideos")?c.get("viewedVideos"):[],t=0,u=function(e){var o,n;return o="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=50&playlistId="+i.playlists[t]+"&key="+i.key,null!=e&&(o+="&pageToken="+e),n=new XMLHttpRequest,n.open("GET",o,!0),n.onload=function(){var o,n,c,f,d;for(d=JSON.parse(this.responseText),f=d.items,o=0,c=f.length;o<c;o++)n=f[o],videos.push(n.snippet.resourceId.videoId);return d.nextPageToken||t!==i.playlists.length-1?(videos.length>=i.fastPlay&&0===window.viewed&&l._loaded&&(videos.shuffle(),r(),l.playNext()),e=null!=d.nextPageToken?d.nextPageToken:null,null==e&&(t+=1),u(e)):(videos.splice(0,window.viewed),videos.shuffle())},n.send()},o.exports=u},{"../config.coffee":1,"../utils/array.coffee":11,"../utils/storage.coffee":13,"./controls/controls.coffee":3,"./player.coffee":9}],9:[function(e,o,n){var t,i;e("../utils/array.coffee"),i=e("../utils/storage.coffee"),t={},t._loaded=!1,t.onReady=function(){return t.yt.setSize(window.innerWidth,window.innerHeight),t._loaded=!0},t.onStateChange=function(e){if(e.data===YT.PlayerState.ENDED)return t.playNext()},t.onError=function(e){return t.playNext()},t.onPlaybackQualityChange=function(){},t.yt=new YT.Player("video",{playerVars:{rel:0,controls:0,showinfo:0,autoplay:1,disablekb:1,iv_load_policy:3},events:{onReady:t.onReady,onStateChange:t.onStateChange,onError:t.onError,onPlaybackQualityChange:t.onPlaybackQualityChange}}),window.onresize=function(){return t.yt.setSize(window.innerWidth,window.innerHeight)},t.loadById=function(e){return t.yt.loadVideoById(e)},t.play=function(){return t.yt.playVideo()},t.pause=function(){return t.yt.pauseVideo()},t.loadById=function(e){return t.yt.loadVideoById(e)},t.playNext=function(){var e,o,n;return e=window.videos,o=window.viewed,n=window.viewedVideos,null!=window.videos[window.viewed]?window.viewedVideos.indexOf(window.videos[window.viewed])===-1?(t.loadById(window.videos[window.viewed]),window.viewedVideos.push(window.videos[window.viewed]),i.set("viewedVideos",window.viewedVideos),window.viewed++):(window.viewed++,t.playNext()):(window.videos.shuffle(),window.viewed=0,window.viewedVideos=[],i.set("viewedVideos",window.viewedVideos),t.playNext())},t.getVolume=function(){return t.yt.getVolume()},t.setVolume=function(e){return t.yt.setVolume(e)},o.exports=function(e){return e?(t.yt.addEventListener("onReady",function(){return t.yt.setSize(window.innerWidth,window.innerHeight),t._loaded=!0,e()}),t):t}},{"../utils/array.coffee":11,"../utils/storage.coffee":13}],10:[function(e,o,n){var t;t=function(){return console.log("ui init")},o.exports=t},{}],11:[function(e,o,n){Array.prototype.shuffle=function(){var e,o,n,t;for(e=this.length,n=[];e;)o=Math.floor(Math.random()*e),e-=1,t=this[e],this[e]=this[o],n.push(this[o]=t);return n}},{}],12:[function(e,o,n){var t;t={isEnabled:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},enter:function(){return document.body.requestFullscreen?document.body.requestFullscreen():document.body.msRequestFullscreen?document.body.msRequestFullscreen():document.body.mozRequestFullScreen?document.body.mozRequestFullScreen():document.body.webkitRequestFullscreen?document.body.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):void 0},exit:function(){return document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():void 0},"switch":function(){return t.isEnabled()?t.exit():t.enter()}},o.exports=t},{}],13:[function(e,o,n){var t;t={get:function(e){return JSON.parse(localStorage.getItem(e))},set:function(e,o){return localStorage.setItem(e,JSON.stringify(o))},remove:function(e){return localStorage.removeItem(e)},clear:function(){return localStorage.clear()}},o.exports=t},{}]},{},[2]);